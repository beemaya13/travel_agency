2021-09-17 13:20:23,800 INFO o.s.b.StartupInfoLogger [main] Starting TravelAgencyApplication using Java 11.0.12 on 5CD110DFVX with PID 22948 (C:\Users\mnilg\Work\MyProjects\travel_agency\travel\target\classes started by mnilg in C:\Users\mnilg\Work\MyProjects\travel_agency)
2021-09-17 13:20:23,819 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v2.5.3, Spring v5.3.9
2021-09-17 13:20:23,820 INFO o.s.b.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-09-17 13:20:24,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-09-17 13:20:25,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 168 ms. Found 8 JPA repository interfaces.
2021-09-17 13:20:26,098 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2021-09-17 13:20:26,109 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2021-09-17 13:20:26,110 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2021-09-17 13:20:26,110 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.50]
2021-09-17 13:20:26,252 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-09-17 13:20:26,252 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2374 ms
2021-09-17 13:20:26,443 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2021-09-17 13:20:26,748 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2021-09-17 13:20:27,638 INFO l.l.c.JavaLogger [main] Successfully acquired change log lock
2021-09-17 13:20:28,145 INFO l.l.c.JavaLogger [main] Creating database history table with name: public.databasechangelog
2021-09-17 13:20:28,155 INFO l.l.c.JavaLogger [main] Reading from public.databasechangelog
2021-09-17 13:20:28,245 INFO l.l.c.JavaLogger [main] Successfully released change log lock
2021-09-17 13:20:28,249 INFO l.l.c.JavaLogger [main] Successfully acquired change log lock
2021-09-17 13:20:28,251 WARN l.l.c.JavaLogger [main] Skipping auto-registration
2021-09-17 13:20:28,359 INFO l.l.c.JavaLogger [main] SQL in file database/R1/sql/initDB.sql executed
2021-09-17 13:20:28,361 INFO l.l.c.JavaLogger [main] ChangeSet database/R1/ddl.xml::init_database_schema::mnilga ran successfully in 103ms
2021-09-17 13:20:28,418 INFO l.l.c.JavaLogger [main] SQL in file database/R1/sql/populateDB.sql executed
2021-09-17 13:20:28,419 INFO l.l.c.JavaLogger [main] ChangeSet database/R1/dml.xml::populate_database::mnilga ran successfully in 53ms
2021-09-17 13:20:28,839 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/addresses.sql executed
2021-09-17 13:20:28,845 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_addresses::mnilga ran successfully in 421ms
2021-09-17 13:20:29,247 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/users.sql executed
2021-09-17 13:20:29,253 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_users::mnilga ran successfully in 405ms
2021-09-17 13:20:29,262 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/countries.sql executed
2021-09-17 13:20:29,263 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_countries::mnilga ran successfully in 5ms
2021-09-17 13:20:29,292 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/cities.sql executed
2021-09-17 13:20:29,293 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_cities::mnilga ran successfully in 26ms
2021-09-17 13:20:29,311 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/hotels.sql executed
2021-09-17 13:20:29,312 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_hotels::mnilga ran successfully in 16ms
2021-09-17 13:20:29,594 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/rooms.sql executed
2021-09-17 13:20:29,600 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_rooms::mnilga ran successfully in 286ms
2021-09-17 13:20:29,869 INFO l.l.c.JavaLogger [main] SQL in file database/R2/generatedData/orders.sql executed
2021-09-17 13:20:29,870 INFO l.l.c.JavaLogger [main] ChangeSet database/R2/dml.xml::add_orders::mnilga ran successfully in 267ms
2021-09-17 13:20:29,880 INFO l.l.c.JavaLogger [main] Successfully released change log lock
2021-09-17 13:20:29,884 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set database/R3/dml.xml::add_relation_user_role_addresses::mnilga:
     Reason: liquibase.exception.DatabaseException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$ [Failed SQL: (0) CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid]
2021-09-17 13:20:29,884 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2021-09-17 13:20:29,905 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2021-09-17 13:20:29,909 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2021-09-17 13:20:29,926 INFO o.s.b.a.l.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-09-17 13:20:29,952 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set database/R3/dml.xml::add_relation_user_role_addresses::mnilga:
     Reason: liquibase.exception.DatabaseException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$ [Failed SQL: (0) CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.9.jar:5.3.9]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.9.jar:5.3.9]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.3.jar:2.5.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.3.jar:2.5.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.3.jar:2.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.3.jar:2.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.3.jar:2.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.3.jar:2.5.3]
	at com.mnilga.travel.agency.application.TravelAgencyApplication.main(TravelAgencyApplication.java:57) [classes/:?]
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set database/R3/dml.xml::add_relation_user_role_addresses::mnilga:
     Reason: liquibase.exception.DatabaseException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$ [Failed SQL: (0) CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:124) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:272) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:271) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.runInScope(Liquibase.java:2369) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:217) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:203) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:321) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:275) ~[liquibase-core-4.3.5.jar:?]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]
	... 18 more
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set database/R3/dml.xml::add_relation_user_role_addresses::mnilga:
     Reason: liquibase.exception.DatabaseException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$ [Failed SQL: (0) CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:672) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:49) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:110) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:226) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:272) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:271) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.runInScope(Liquibase.java:2369) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:217) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:203) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:321) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:275) ~[liquibase-core-4.3.5.jar:?]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]
	... 18 more
Caused by: liquibase.exception.DatabaseException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$ [Failed SQL: (0) CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:82) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:150) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1278) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1260) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:637) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:49) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:110) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:226) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:272) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:271) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.runInScope(Liquibase.java:2369) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:217) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:203) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:321) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:275) ~[liquibase-core-4.3.5.jar:?]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]
	... 18 more
Caused by: org.postgresql.util.PSQLException: Unterminated dollar quote started at position 108 in SQL CREATE OR REPLACE FUNCTION get_random(t regclass, f VARCHAR(40), OUT ret_uuid UUID)
    LANGUAGE plpgsql
AS
$$
-- DECLARE
begin
    EXECUTE format('SELECT %I FROM %s tablesample system_rows(10) order by random() limit 1', f, t)
    into ret_uuid. Expected terminating $$
	at org.postgresql.core.Parser.checkParsePosition(Parser.java:1328) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.core.Parser.parseSql(Parser.java:1227) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.core.Parser.replaceProcessing(Parser.java:1179) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:43) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.core.QueryExecutorBase.createQueryByKey(QueryExecutorBase.java:337) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:300) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.23.jar:42.2.23]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.23.jar:42.2.23]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:?]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:?]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:389) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:82) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:150) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1278) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1260) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:637) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:49) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:110) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:226) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:272) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:222) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:271) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.lambda$child$0(Scope.java:160) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:169) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:159) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Scope.child(Scope.java:138) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.runInScope(Liquibase.java:2369) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:217) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.Liquibase.update(Liquibase.java:203) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:321) ~[liquibase-core-4.3.5.jar:?]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:275) ~[liquibase-core-4.3.5.jar:?]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.9.jar:5.3.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.9.jar:5.3.9]
	... 18 more
